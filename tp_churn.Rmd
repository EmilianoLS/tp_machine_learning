---
title: "TP_CHURN"
output: html_notebook
---
  Instalo las librerias y asigno la ruta en github donde esta la base a estudiar

```{r message=FALSE, warning=FALSE}
#  busco librerias a usar y asigno la ruta en github 
rm(list = ls())
 
library(readr)
library(papeR)
library(dplyr)
library(ggplot2)
library(ggpubr)
library(plotly)
library(reshape2)

Ruta <- "https://raw.githubusercontent.com/EmilianoLS/tp_machine_learning/master/train.csv"


```

Cargo los datos

```{r}
data <- read_csv(url(Ruta))
```

# Analisis preeliminar

```{r}
head(data)                # Veo como se estructuran los datos
```

```{r}
dim(data)                           # Estructura del DataFrame
```

El dataframe contiene 33008 registros y 312 variables. No hay mucha descripción sobre el contenido de cada una, con excepción de *age*,*nac*,*ID* y algunas otras más que contienen información del saldo.

```{r}
ncol(select_if(data, is.numeric))   # Cantidad de columnas numericas
```

No existen variables del tipo categoricas.

Resumen de las variables predictivas

```{r warning=FALSE}
mins <- as.data.frame(sapply(data, min))
maxs <- as.data.frame(sapply(data, max))
dev  <- as.data.frame(sapply(data, sd))

mins$variable <- row.names(mins)
maxs$variable <- row.names(maxs)
dev$variable  <- row.names(dev)

rownames(mins) <- NULL
rownames(maxs) <- NULL
rownames(dev)  <- NULL

names(mins)[1] <- 'minimos'
names(maxs)[1] <- 'maximos'
names(dev)[1]  <- 'desviacion'
```


```{r warning=FALSE}
fig1 <- plot_ly(type = 'box')
fig2 <- plot_ly(type = 'box')
fig3 <- plot_ly(type = 'box')

fig1 <- fig1 %>% add_boxplot(y = mins$minimos, name = 'Minimos')
fig2 <- fig2 %>% add_boxplot(y = maxs$maximos, name = 'Maximos')
fig3 <- fig3 %>% add_boxplot(y = dev$desviacion, name = 'Desviacion Estándar')

fig <- subplot(fig1,fig2,fig3)
fig <- fig %>% layout(title = 'Minimos y máximos de todas las variables')
fig
```



